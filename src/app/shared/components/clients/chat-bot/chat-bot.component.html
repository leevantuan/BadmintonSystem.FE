@if(this.isOpen === true)
{
<div class="w-full h-full">
     <div class="fixed inset-0 bg-[#ffffff13] z-40" (click)="handlerOpenSupport()">
     </div>

     <div
          class="fixed bottom-33 right-10 w-128 bg-white shadow-xl rounded-2xl border border-gray-300 z-50 animate-fade-in">
          <div class="bg-blue-600 text-white px-5 py-3 rounded-t-2xl flex justify-between items-center">
               <div class="flex items-center space-x-2">
                    <img src="https://avatar.iran.liara.run/public/35" alt="user-avatar" class="w-10 h-10 rounded-full">
                    <h2 class="text-lg font-semibold">Hỗ trợ trực tuyến</h2>
               </div>
               <button class="text-white hover:text-gray-300 text-lg transition duration-200 cursor-pointer"
                    (click)="handlerOpenSupport()">✖</button>
          </div>

          <div #chatContainer class="h-114 overflow-y-auto p-4 space-y-3">
               @for(chat of chatList; track chat)
               {
               @if(chat.user === 'User')
               {
               <div
                    class="bg-blue-500 text-white p-3 rounded-lg text-sm w-2/3 ml-auto text-left shadow-md whitespace-pre-line leading-relaxed">
                    {{ chat.message }}
               </div>
               }
               @if(chat.user === 'Bot')
               {
               <div class="flex items-start space-x-2">
                    <img src="https://avatar.iran.liara.run/public/35" alt="user-avatar" class="w-10 h-10 rounded-full">
                    <div class="bg-gray-100 p-3 rounded-lg text-sm w-2/3 shadow-sm whitespace-pre-line leading-relaxed">
                         {{ chat.message }}
                    </div>
               </div>
               }
               }
          </div>

          <div class="border-t border-gray-300 px-4 py-3 flex items-center bg-gray-100 rounded-b-2xl">
               <input type="text" [(ngModel)]="newMessage" (keydown.enter)="sendMessage(newMessage)"
                    class="flex-1 border border-gray-300 rounded-lg p-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-300"
                    placeholder="Nhập tin nhắn...">
               <button (click)="sendMessage(newMessage)" class=" bg-blue-500 text-white px-4 py-2 ml-2 rounded-lg hover:bg-blue-700 transition duration-300
                    shadow-md">
                    Gửi
               </button>
          </div>
     </div>
</div>
}